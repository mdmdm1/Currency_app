Confirm that PDB$SEED is open and in the correct state:


SELECT NAME, OPEN_MODE FROM V$PDBS WHERE NAME = 'PDB$SEED';

Create a New Pluggable Database
Use PDB$SEED to create a new pluggable database:


CREATE PLUGGABLE DATABASE MANAGEMENT3
ADMIN USER admin IDENTIFIED BY 2024
FILE_NAME_CONVERT = ('C:\app\medma\product\21c\oradata\XE\pdbseed\', 
                     'C:\app\medma\product\21c\oradata\XE\MANAGEMENT3\');

Open the New Database
After creation, open the new PDB:

ALTER PLUGGABLE DATABASE MANAGEMENT3 OPEN;

Connect to MANAGEMENT3
To switch context to the new PDB:
ALTER SESSION SET CONTAINER=MANAGEMENT3;

1. CURRENCIES
sql
Copier le code
CREATE TABLE CURRENCIES (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR2(255) NOT NULL,
    INPUT NUMBER(10, 2),
    OUTPUT NUMBER(10, 2),
    BALANCE NUMBER(10, 2)
);
2. DEBTS
sql
Copier le code
CREATE TABLE DEBTS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CUSTOMER_ID NUMBER NOT NULL,
    AMOUNT NUMBER(10, 2) NOT NULL,
    DEBT_DATE DATE NOT NULL,
    PAID_DEBT NUMBER(10, 2),
    CURRENT_DEBT NUMBER(10, 2),
    CREATED_BY NUMBER,
    CREATED_AT DATE,
    UPDATED_BY NUMBER,
    UPDATED_AT DATE,
    CONSTRAINT FK_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER (ID)
);
3. CUSTOMER
sql
Copier le code
CREATE TABLE CUSTOMER (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR2(255) NOT NULL,
    IDENTITE VARCHAR2(255),
    TELEPHONE VARCHAR2(20),
    DATE_NAISSE DATE
);
4. DEPOSITS
sql
Copier le code
CREATE TABLE DEPOSITS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PERSON_NAME VARCHAR2(255) NOT NULL,
    AMOUNT NUMBER(10, 2) NOT NULL,
    DEPOSIT_DATE DATE NOT NULL,
    RELEASED_DEPOSIT NUMBER(10, 2),
    CURRENT_DEBT NUMBER(10, 2),
    CUSTOMER_ID NUMBER,
    CONSTRAINT FK_DEPOSITS_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER (ID)
);
5. EMPLOYEE
sql
Copier le code
CREATE TABLE EMPLOYEE (
    EMPLOYEE_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIRST_NAME VARCHAR2(255) NOT NULL,
    LAST_NAME VARCHAR2(255) NOT NULL,
    CARTE_IDENT VARCHAR2(255),
    TELEPHONE VARCHAR2(20),
    DATE_NAISS DATE,
    PASSWORD VARCHAR2(255) NOT NULL,
    PERMISSION_ROLE VARCHAR2(50)
);
6. TREASURY_OPERATIONS
sql
Copier le code
CREATE TABLE TREASURY_OPERATIONS (
    TREASURY_OPERATIONS_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR2(255) NOT NULL,
    INPUT NUMBER(10, 2),
    OUTPUT NUMBER(10, 2),
    BALANCE NUMBER(10, 2)
);

GRANT ALL ON SYS.CURRENCIES TO admin;
GRANT ALL ON SYS.DEBTS TO admin;
GRANT ALL ON SYS.CUSTOMER TO admin;
GRANT ALL ON SYS.DEPOSITS TO admin;
GRANT ALL ON SYS.EMPLOYEE TO admin;
GRANT ALL ON SYS.TREASURY_OPERATIONS TO admin;

CREATE SYNONYM ADMIN.CURRENCIES FOR SYS.CURRENCIES;
CREATE SYNONYM ADMIN.DEBTS FOR SYS.DEBTS;
CREATE SYNONYM ADMIN.CUSTOMER FOR SYS.CUSTOMER;
